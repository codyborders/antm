erDiagram
    MAIN_CUSTOMER {
        BIGINT c_customer_sk PK
    }
    MAIN_ITEM {
        BIGINT i_item_sk PK
    }
    MAIN_DATE_DIM {
        BIGINT d_date_sk PK
    }
    MAIN_PROMOTION {
        BIGINT p_promo_sk PK
    }
    MAIN_STORE_SALES {
        BIGINT ss_ticket_number PK
        INTEGER ss_sold_date_sk
        INTEGER ss_item_sk
        BIGINT ss_customer_sk
    }
    MAIN_CATALOG_SALES {
        BIGINT cs_order_number PK
        INTEGER cs_sold_date_sk
        BIGINT cs_item_sk
        BIGINT cs_bill_customer_sk
    }
    MAIN_WEB_SALES {
        BIGINT ws_order_number
        INTEGER ws_line_number PK
        INTEGER ws_sold_date_sk
        INTEGER ws_item_sk
        BIGINT ws_bill_customer_sk
    }
    MAIN_INVENTORY {
        INTEGER inv_date_sk
        INTEGER inv_item_sk
        INTEGER inv_warehouse_sk
    }
    MAIN_STORE {
        BIGINT s_store_sk PK
    }
    MAIN_WAREHOUSE {
        BIGINT w_warehouse_sk PK
    }
    LOGS_APP_EVENTS {
        VARCHAR session_id
        BIGINT customer_sk
        BIGINT item_sk
    }
    LOGS_PROMO_CODE_USAGE {
        VARCHAR promo_code
        BIGINT customer_sk
        BIGINT item_sk
    }
    LOGS_EXPERIMENT_EVENTS {
        VARCHAR experiment_id
        VARCHAR session_id
    }
    LOGS_CS_TICKETS {
        VARCHAR ticket_id PK
        BIGINT customer_sk
        BIGINT item_sk
        BIGINT warehouse_sk
    }

    MAIN_DATE_DIM ||--o{ MAIN_STORE_SALES : "ss_sold_date_sk"
    MAIN_DATE_DIM ||--o{ MAIN_CATALOG_SALES : "cs_sold_date_sk"
    MAIN_DATE_DIM ||--o{ MAIN_WEB_SALES : "ws_sold_date_sk"
    MAIN_ITEM ||--o{ MAIN_STORE_SALES : "ss_item_sk"
    MAIN_ITEM ||--o{ MAIN_CATALOG_SALES : "cs_item_sk"
    MAIN_ITEM ||--o{ MAIN_WEB_SALES : "ws_item_sk"
    MAIN_ITEM ||--o{ MAIN_INVENTORY : "inv_item_sk"
    MAIN_PROMOTION ||--o{ MAIN_STORE_SALES : "ss_promo_sk"
    MAIN_PROMOTION ||--o{ MAIN_CATALOG_SALES : "cs_promo_sk"
    MAIN_PROMOTION ||--o{ MAIN_WEB_SALES : "ws_promo_sk"
    MAIN_CUSTOMER ||--o{ MAIN_STORE_SALES : "ss_customer_sk"
    MAIN_CUSTOMER ||--o{ MAIN_CATALOG_SALES : "cs_bill_customer_sk"
    MAIN_CUSTOMER ||--o{ MAIN_WEB_SALES : "ws_bill_customer_sk"
    MAIN_STORE ||--o{ MAIN_STORE_SALES : "ss_store_sk"
    MAIN_WAREHOUSE ||--o{ MAIN_CATALOG_SALES : "cs_warehouse_sk"
    MAIN_WAREHOUSE ||--o{ MAIN_WEB_SALES : "ws_warehouse_sk"
    MAIN_WAREHOUSE ||--o{ MAIN_INVENTORY : "inv_warehouse_sk"

    MAIN_CUSTOMER ||--o{ LOGS_APP_EVENTS : "customer_sk"
    MAIN_ITEM ||--o{ LOGS_APP_EVENTS : "item_sk"
    MAIN_CUSTOMER ||--o{ LOGS_PROMO_CODE_USAGE : "customer_sk"
    MAIN_ITEM ||--o{ LOGS_PROMO_CODE_USAGE : "item_sk"
    LOGS_APP_EVENTS ||--o{ LOGS_EXPERIMENT_EVENTS : "session_id"
    MAIN_CUSTOMER ||--o{ LOGS_CS_TICKETS : "customer_sk"
    MAIN_ITEM ||--o{ LOGS_CS_TICKETS : "item_sk"
    MAIN_WAREHOUSE ||--o{ LOGS_CS_TICKETS : "warehouse_sk"
